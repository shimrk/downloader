# セキュリティガイドライン

## 権限管理
- 必要最小限の権限のみを要求する
- `activeTab`: アクティブなタブのみアクセス
- `downloads`: ファイルダウンロード機能
- `storage`: 設定の保存
- `scripting`: コンテンツスクリプトの実行

## データ処理
- ユーザーデータの暗号化
- 安全なファイル名生成
- XSS対策（HTMLエスケープ）

## セキュリティユーティリティ
- [downloader/src/utils/security.ts](mdc:downloader/src/utils/security.ts) - セキュリティ関連のユーティリティ関数

## 入力検証
- すべてのユーザー入力を検証する
- URLの安全性を確認する
- ファイル名のサニタイズを行う

## 通信セキュリティ
- HTTPS通信のみを使用する
- 機密情報をURLに含めない
- 適切なCORS設定を行う

## エラーメッセージ
- 機密情報をエラーメッセージに含めない
- ユーザーフレンドリーなエラーメッセージを表示する
- デバッグ情報は開発時のみ表示する
description:
globs:
alwaysApply: false
---
